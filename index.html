<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PROGRAMA DE DIGNIFICACIÓN DE EQUIPAMIENTO INSTITUCIONAL 2026</title>
    <!-- <style>
            <?!= include("styles"); ?> 
    </style>
    -->

      <link rel="stylesheet" href="styles.css"> 

</head>
<body>
    
<form id="miFormulario">
   <h2>PROGRAMA DE DIGNIFICACIÓN DE EQUIPAMIENTO INSTITUCIONAL 2026 (PDEI 2026)</h2>
  <fieldset>
    <legend>Información Básica Test 5.03</legend>
    
    <div class="form_input">
      <label for="secretaria">Secretaría</label>
      <input id="secretaria" name="secretaria" placeholder="   ">
    </div>

    <div class="form_input">
      <label for="direccion">Dirección</label>
      <input id="direccion" name="direccion" placeholder="direccion">
    </div>

    <div class="form_input">
      <label for="nivel">Nivel/Area/otro</label>
      <select name="nivel" id="nivel">
        <option value="Nivel Medio Superior">Nivel Medio Superior</option>
        <option value="Nivel Superior">Nivel Superior</option>
        <option value="administrativos">Administrativos</option>
        <option value="otros">Otros</option>
      </select>
    </div>
    <div class="form_input">
      <label for="dependencia">Dependencia</label>
      <input id="dependencia" name="dependencia" placeholder="CECyT 10">
    </div>
    
    <div class="form_input">
      <label for="ubicacion">Ubicación(Domicilio)</label>
      <input id="ubicacion" name="ubicacion" placeholder="Lugia_Djokovic@hotmail.com">
    </div>

    <div class="form_input">
      <label for="titular">Titular</label>
      <input id="titular" name="titular" placeholder="Titular ">
    </div>

    <div class="form_input">
      <label for="telefonoTitular">Teléfono Titular</label>
      <input id="telefonoTitular" name="telefonoTitular" placeholder="telefono del Titular ">
    </div>

    <div class="form_input">
      <label for="correoTitular">Correo Titular</label>
      <input id="correoTitular" name="correoTitular" placeholder="correo del Titular ">
    </div>
    
    <div class="form_input">
      <label for="responsable">Responsable de llenado(Capítulo 5000)</label>
      <input id="responsable" name="responsable" placeholder="responsable ">
    </div>


    <div class="form_input">
      <label for="telefonoResponsable">Teléfono Responsable</label>
      <input id="telefonoResponsable" name="telefonoResponsable" placeholder="telefono del Responsable ">
    </div>

    <div class="form_input">
      <label for="correoResponsable">Correo Responsable</label>
      <input id="correoResponsable" name="correoResponsable" placeholder="correo del Responsable ">
    </div>




  </fieldset>

  

  <button type="submit">Enviar</button>
   <p id="aviso"></p>
<table border="1" width="100%">
  <thead>
                               <tr>
                                    <th>
                                         Nivel  
                                    </th>
                
                                    <th>
                                         Dependencia
                                    </th>   

                                    <th>
                                         Nombre del Equipo
                                    </th>
                                    <th>
                                        Cantidad
                                    </th>
                                    <th>
                                        Marca/Modelo
                                    </th>

                                    <th>
                                        Clave CUCOP
                                    </th>

                                    <th>
                                        Justificación (Equipo no Existente, Sustitución o Complemento)
                                    </th>

                                    <th>
                                         Precio de referencia
                                    </th>
                     
                                    <th>
                                        Prioridad (Baja, Media, Alta, Urgente)
                                    </th>

                               </tr>
                        </thead>

                        <tbody>
                                <tr>
                                                      
                                                                 <td id ="nivelR" name="nivelR" class="input_tabla"> 
                                                                 </td>
                                                                      
                                                              
                                                                 <td id="dependenciaR" name="dependenciaR" class="input_tabla">      
                                                                 
                                                                 </td>   
                                       
                                                              
                                                                 <td name="nombredelEquipoR1" class="input_tabla" contenteditable="true">
                                                                 </td>
                                                              
                                                                 <td name="cantidadR1" class="input_tabla" contenteditable="true">
                                                                 </td>
                                                              
                                                                    <td name="marcaR1" class="input_tabla" contenteditable="true">   
                                                             </td>
                                       
                                                              
                                                                  <td name="claveCUCOPR1" class="input_tabla" contenteditable="true"> 
                                                            </td>
                                       
                                                             
                                                                 <td
                                                                          name="justificacionR1" 
                                                                          class="auto-expand input_tabla"
                                                                          rows="1"
                                                                          style="width: 100%; resize:none;"
                                                                          contenteditable="true"
                                                                         > Justificacion</textarea>
                                                           </td>
                                       
                                                             
                                                                   <td name="precioR1" class="input_tabla" contenteditable="true">                                      
                                                                   </td>
                                                            
                                                             
                                                                   <td name="prioridadR1" class="input_tabla" contenteditable="true">
                                                                   </td>
                                                       </tr>
                     
                                                       <tr>
                                                             
                                                                      <td id ="nivelR2" name="nivelR2" class="input_tabla" contenteditable="true"> 
                                                                      </td>
                                                                      
                                                              
                                                                 <td id="dependenciaR2" name="dependenciaR2" class="input_tabla" contenteditable="true">      
                                                                 
                                                             </td>   
                                       
                                                              
                                                                 <td name="nombredelEquipoR2" class="input_tabla" contenteditable="true">
                                                             </td>
                     
                                                              
                                                                          <td name="cantidadR2" class="input_tabla" contenteditable="true">
                                                             </td>
                                                              
                                                                    <td name="marcaR2" class="input_tabla" contenteditable="true">   
                                                             </td>
                                       
                                                              
                                                                  <td name="claveCUCOPR2" class="input_tabla" contenteditable="true"> 
                                                            </td>
                                       
                                                             
                                                                   <td
                                                                          name="justificacionR2" 
                                                                          class="auto-expand input_tabla"
                                                                          rows="1"
                                                                          style="resize:none;"
                                                                          contenteditable="true"
                                                                         > Justificacion</textarea>
                                                           </td>
                                       
                                                             
                                                                   <td name="precioR2" class="input_tabla" contenteditable="true">                                       </td>
                                                            
                                                             
                                                                   <td name="prioridadR2" class="input_tabla" contenteditable="true">
                                                            </td>
                                                       </tr>



                              
                        </tbody>     
</table>



    
</form>

</body>


<script>

 const form = document.getElementById("miFormulario");
 const aviso = document.getElementById("aviso");   
    document.getElementById("miFormulario").addEventListener("submit", function(e){
                e.preventDefault();
                aviso.textContent = " ";
                const data = Object.fromEntries(new FormData(this));
                fetch("https://script.google.com/macros/s/AKfycbyi-I4hRBCeC2IU0ZZjQ9_9icECjUclFrTKJiZ4iLGtEr5hAL90bIglTxhQwTf-ZWJIhA/exec", {
                  method: "POST",
                  body: JSON.stringify(data)
  })
  .then(res => res.json())
  .then(res => {
                 if (!res.success) {
                   aviso.textContent = "⚠️ " + res.message;
                   aviso.style.color = "red";
                   return;
                 }
                 aviso.textContent = "✅ Tu respuesta fue enviada correctamente";
                 aviso.style.color = "green";
                 form.reset();
                 alert("Datos enviados correctamente");
                 this.reset();
  })
  .catch(() => alert("Error al enviar"));
});

const nivelInput = document.getElementById("nivel");
const dependenciaInput = document.getElementById("dependencia");
const nivelRInput = document.getElementById("nivelR");
const dependenciaRInput = document.getElementById("dependenciaR");
const nivelR2Input = document.getElementById("nivelR2");
const dependenciaR2Input = document.getElementById("dependenciaR2");


// Escuchamos cambios en nombre o apellido
nivelInput.addEventListener("input", generarNivelR);
dependenciaInput.addEventListener("input", generarDependenciaR);

function generarNivelR() {
  const nivel = nivelInput.value.trim();
  if (nivel) {
    // Genera el usuario como: primera letra del nombre + apellido, todo en minúsculas
    nivelRInput.value = (nivel);
    nivelR2Input.value = (nivel);
  } else {
    nivelRInput.value = ""; // Limpia si falta algún dato
    nivelR2Input.value = "";
}
}
function generarDependenciaR() {
  const dependencia = dependenciaInput.value.trim();

  if (dependencia) {
    // Genera el usuario como: primera letra del nombre + apellido, todo en minúsculas
    dependenciaRInput.value = (dependencia);
    dependenciaR2Input.value = (dependencia);
  } else {
    dependenciaRInput.value = ""; // Limpia si falta algún dato
  }
}


</script>




</html>










