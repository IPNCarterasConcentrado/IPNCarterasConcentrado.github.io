<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TextArea</title>
    <!-- <style>
            <?!= include("styles"); ?> 
    </style>
    -->

      <link rel="stylesheet" href="styles.css"> 

</head>
<body>
    
<form id="miFormulario">

  <fieldset>
    <legend>Información Básica Test 4.9</legend>
    
    <div class="form_input">
      <label for="secretaria">Secretaría</label>
      <input id="secretaria" name="secretaria" placeholder="   ">
    </div>

    <div class="form_input">
      <label for="direccion">Dirección</label>
      <input id="direccion" name="direccion" placeholder="direccion">
    </div>

    <div class="form_input">
      <label for="nivel">Nivel/Area/otro</label>
      <select name="nivel" id="nivel">
        <option value="Nivel Medio Superior">Nivel Medio Superior</option>
        <option value="Nivel Superior">Nivel Superior</option>
        <option value="administrativos">Administrativos</option>
        <option value="otros">Otros</option>
      </select>
    </div>
    <div class="form_input">
      <label for="dependencia">Dependencia</label>
      <input id="dependencia" name="dependencia" placeholder="CECyT 10">
    </div>
    
    <div class="form_input">
      <label for="ubicacion">Ubicación(Domicilio)</label>
      <input id="ubicacion" name="ubicacion" placeholder="Lugia_Djokovic@hotmail.com">
    </div>

    <div class="form_input">
      <label for="titular">Titular</label>
      <input id="titular" name="titular" placeholder="Titular ">
    </div>

    <div class="form_input">
      <label for="telefonoTitular">Teléfono Titular</label>
      <input id="telefonoTitular" name="telefonoTitular" placeholder="telefono del Titular ">
    </div>

    <div class="form_input">
      <label for="correoTitular">Correo Titular</label>
      <input id="correoTitular" name="correoTitular" placeholder="correo del Titular ">
    </div>
    
    <div class="form_input">
      <label for="responsable">Responsable de llenado(Capítulo 5000)</label>
      <input id="responsable" name="responsable" placeholder="responsable ">
    </div>


    <div class="form_input">
      <label for="telefonoResponsable">Teléfono Responsable</label>
      <input id="telefonoResponsable" name="telefonoResponsable" placeholder="telefono del Responsable ">
    </div>

    <div class="form_input">
      <label for="correoResponsable">Correo Responsable</label>
      <input id="correoResponsable" name="correoResponsable" placeholder="correo del Responsable ">
    </div>




  </fieldset>

  

  <button type="submit">Enviar</button>
   <p id="aviso"></p>
</form>

</body>


<script>

 const form = document.getElementById("miFormulario");
 const aviso = document.getElementById("aviso");   
    document.getElementById("miFormulario").addEventListener("submit", function(e){
                e.preventDefault();
                aviso.textContent = " ";
                const data = Object.fromEntries(new FormData(this));
                fetch("https://script.google.com/macros/s/AKfycbxm7YfdIUjOREjrYDsmaRJJxWpWbeqIQs4Tj-7mERZAWEzt-rZJPazyDQN74vj0Z0vtUw/exec", {
                  method: "POST",
                  body: JSON.stringify(data)
  })
  .then(res => res.json())
  .then(res => {
                 if (!res.success) {
                   aviso.textContent = "⚠️ " + res.message;
                   aviso.style.color = "red";
                   return;
                 }
                 aviso.textContent = "✅ Tu respuesta fue enviada correctamente";
                 aviso.style.color = "green";
                 form.reset();
                 alert("Datos enviados correctamente");
                 this.reset();
  })
  .catch(() => alert("Error al enviar"));
});

const nivelInput = document.getElementById("nivel");
const dependenciaInput = document.getElementById("dependencia");
const nivelRInput = document.getElementById("nivelR");
const dependenciaRInput = document.getElementById("dependenciaR");
const nivelR2Input = document.getElementById("nivelR2");
const dependenciaR2Input = document.getElementById("dependenciaR2");


// Escuchamos cambios en nombre o apellido
nivelInput.addEventListener("input", generarNivelR);
dependenciaInput.addEventListener("input", generarDependenciaR);

function generarNivelR() {
  const nivel = nivelInput.value.trim();
  if (nivel) {
    // Genera el usuario como: primera letra del nombre + apellido, todo en minúsculas
    nivelRInput.value = (nivel);
    nivelR2Input.value = (nivel);
  } else {
    nivelRInput.value = ""; // Limpia si falta algún dato
    nivelR2Input.value = "";
}
}
function generarDependenciaR() {
  const dependencia = dependenciaInput.value.trim();

  if (dependencia) {
    // Genera el usuario como: primera letra del nombre + apellido, todo en minúsculas
    dependenciaRInput.value = (dependencia);
    dependenciaR2Input.value = (dependencia);
  } else {
    dependenciaRInput.value = ""; // Limpia si falta algún dato
  }
}


</script>




</html>




